<?xml version="1.0"?>
<!-- FULL PARAMETER-SET FOR ALL MODULES -->
<!-- "cue" acts as switches for usage -->
<root>
    <!-- final output .fits maps -->
    <Output>
        <!-- Dispersion Measure -->
        <DM cue="1" filename="dm.fits"/>
        <!-- Synchrotron Emission -->
        <Sync cue="1" filename="iqu_sync.fits"/>
        <!-- Faraday Depth -->
        <Faraday cue="1" filename="fd.fits"/>
    </Output>
    
    <!-- INTERACTIVE IN/OUTPUT -->
    <Interface>
        <!-- RESOLUTION DEFINED IN './Grid/Box' -->
        <!-- regular magnetic field -->
        <breg_grid read="0" write="0" filename="breg.bin"/>
        <!-- turbulent magnetic field -->
        <brnd_grid read="0" write="0" filename="brnd.bin"/>
        <!-- free electron field -->
        <fe_grid read="0" write="0" filename="ymw16.bin"/>
        <!-- turbulent free electron field -->
        <fernd_grid read="0" write="0" filename="fernd.bin"/>
        <!-- cosmic ray electron -->
        <cre_grid read="0" write="0" filename="cre.bin"/>
    </Interface>
    
    <!-- HAMMURABI GRID -->
    <Grid type="3D" ec_frame="0">
        <!-- ec_frame offers a local simulation timesaving scheme -->
        <SunPosition>
            <x value="-8.3"/> <!-- kpc -->
            <y value="0"/> <!-- kpc -->
            <z value="6"/> <!-- pc -->
        </SunPosition>
        
        <Box>
            <!-- grid vertex number in each direction -->
            <nx value="400"/>
            <ny value="400"/>
            <nz value="80"/>
            <!-- box length in each direction -->
            <lx value="40.0"/> <!-- kpc -->
            <ly value="40.0"/> <!-- kpc -->
            <lz value="8.0"/> <!-- kpc -->
        </Box>
        <!-- LOS integration -->
        <Integration>
            <shell value="1"/>
            <nside value="16"/>
            <ec_r_max value="30.0"/> <!-- kpc -->
            <gc_r_max value="20.0"/> <!-- kpc -->
            <gc_z_max value="10.0"/> <!-- kpc -->
            <ec_r_res value="0.1"/> <!-- kpc -->
            <!-- lower limit on galactic latitude -->
            <lat_lim value="0."/> <!-- [0,90] -->
        </Integration>
    </Grid>
    
    <!-- GALAXY SETTINGS -->
    <Galaxy>
        <!-- MAGNETIC FIELDS -->
        <MagneticField>
            <!-- regular fields -->
            <Regular type="WMAP">
                <!-- WMAP3yr -->
                <WMAP>
                    <b0 value="2.0"/>
                    <psi0 value="27.0"/>
                    <psi1 value="0.9"/>
                    <chi0 value="25.0"/>
                </WMAP>
                <!-- Local testing -->
                <Local>
                    <bd value="5"/>
                    <l0 value="70"/>
                    <z0 value="1.0"/>
                    <bn value="-2"/>
                    <bs value="2"/>
                </Local>
            </Regular>
            <!-- turbulent fields -->
            <Random cue="0" type="Gauss">
                <!-- Gaussian random -->
                <Gauss>
                    <p0 value="2.0"/> <!-- norm at k0 -->
                    <k0 value="1.0"/> <!-- k0 = 1/Lambda in kpc -->
                    <a0 value="-1.7"/>
                </Gauss>
                <!-- Gaussian + Aniso -->
                <GaussPlus>
                    <!-- use Gaussian random setting above -->
                    <beta value="0.5"/>
                </GaussPlus>
                <!-- rescaling -->
                <Rescal>
                    <r0 value="8.0"/> <!-- in kpc -->
                    <z0 value="1.0"/> <!-- in kpc -->
                </Rescal>
            </Random>
        </MagneticField>
        
        <!-- FREE ELECTRON -->
        <FreeElectron type="YMW16">
            <!-- YMW16 -->
            <YMW16>
                <Warp>
                    <R_warp value="8.4"/>
                    <Gamma_w value="0.14"/>
                    <R0 value="8.3"/>
                </Warp>
                <ThickDisk>
                    <Ad value="2500"/>
                    <Bd value="15000"/>
                    <n1 value="0.01132"/>
                    <H1 value="1673"/>
                </ThickDisk>
                <ThinDisk>
                    <A2 value="1200"/>
                    <B2 value="4000"/>
                    <n2 value="0.404"/>
                    <K2 value="1.54"/>
                </ThinDisk>
                <!-- using HH14 SpiralArms -->
                <SpiralArm>
                    <B2s value="4000"/>
                    <Ele_arm_0 value="0.135000"/>
                    <Ele_arm_1 value="0.129000"/>
                    <Ele_arm_2 value="0.103000"/>
                    <Ele_arm_3 value="0.116000"/>
                    <Ele_arm_4 value="0.005700"/>
                    <Wid_arm_0 value="300"/>
                    <Wid_arm_1 value="500"/>
                    <Wid_arm_2 value="300"/>
                    <Wid_arm_3 value="500"/>
                    <Wid_arm_4 value="300"/>
                    <Aa value="11680"/>
                    <Ka value="5.015"/>
                    <ncn value="2.4"/>
                    <wcn value="8.2"/>
                    <thetacn value="109"/>
                    <nsg value="0.626"/>
                    <wsg value="20"/>
                    <thetasg value="75.8"/>
                </SpiralArm>
                <GalCenter>
                    <ngc value="6.2"/>
                    <Agc value="160"/>
                    <Hgc value="35"/>
                </GalCenter>
                <GumNebula>
                    <ngn value="1.84"/>
                    <Wgn value="15.1"/>
                    <Agn value="125.8"/>
                    <Kgn value="1.4"/>
                </GumNebula>
                <LocalBubble>
                    <J_LB value="0.480"/>
                    <nlb1 value="1.094"/>
                    <detlb1 value="28.4"/>
                    <wlb1 value="14.2"/>
                    <hlb1 value="112.9"/>
                    <thetalb1 value="195.4"/>
                    <nlb2 value="2.33"/>
                    <detlb2 value="14.7"/>
                    <wlb2 value="15.6"/>
                    <hlb2 value="43.6"/>
                    <thetalb2 value="278.2"/>
                </LocalBubble>
                <LoopI>
                    <nLI value="1.907"/>
                    <RLI value="80.0"/>
                    <WLI value="15.0"/>
                    <detthetaLI value="30.0"/>
                    <thetaLI value="40.0"/>
                </LoopI>
                
            </YMW16>
            <!-- turbulent free electron -->
            <Random cue="0" type="Gauss">
                <Gauss>
                    <p0 value="1.0"/>
                    <k0 value="2.0"/> <!-- k0 = 1/Lambda in kpc -->
                    <a0 value="-1.7"/>
                </Gauss>
                <!-- rescaling -->
                <Rescal>
                    <r0 value="8.0"/> <!-- in kpc -->
                    <z0 value="1.0"/> <!-- in kpc -->
                </Rescal>
            </Random>
        </FreeElectron>
        
        <!-- SPIRAL ARMS -->
        <SpiralArms type="HH14">
            <!-- Hou & Han, A&A 569 A125 (2014), used in YMW16, R0=8.3 -->
            <HH14>
                <NumArms value="5"/>
                <R_1 value="3.35"/> <!-- Noma-Outer Arm -->
                <R_2 value="3.71"/> <!-- Peseus Arm -->
                <R_3 value="3.56"/> <!-- Carina-Segittarius Arm -->
                <R_4 value="3.67"/> <!-- Crux-Scutum Arm -->
                <R_5 value="8.21"/> <!-- Local Arm -->
                <phi_1 value="44.4"/>
                <phi_2 value="120.0"/>
                <phi_3 value="218.6"/>
                <phi_4 value="330.3"/>
                <phi_5 value="55.1"/>
                <psi_1 value="11.43"/>
                <psi_2 value="9.84"/>
                <psi_3 value="10.38"/>
                <psi_4 value="10.64"/>
                <psi_5 value="2.77"/>
            </HH14>
        </SpiralArms>
    </Galaxy>
    
    <!-- ANALYTICAL/NUMERICAL CRE -->
    <CRE type="Analytic" freq="23.0"> <!-- frequency @ GHz -->
        <Analytic>
            <alpha value="3.0"/>
            <beta value="0.0"/>
            <theta value="0.0"/>
            <hr value="5.0"/>
            <hz value="1.0"/>
            <je value="0.25"/>
        </Analytic>
        
        <Numeric type="2D">
            <nr value=""/>
            <nx value=""/>
            <ny value=""/>
            <nz value=""/>
            <nE value=""/>
            <lx value=""/>
            <ly value=""/>
            <lz value=""/>
            <Ekmin value=""/>
            <Ekmax value=""/>
            <Ekfact value=""/>
        </Numeric>
    </CRE>
    
    <!-- DRAGON GRID FOR NUMERICAL CRE INPUT -->
    
    
</root>
